{% extends 'main/layout/base.html' %}
{% load static %}
{% block body_block %}

    <div class="row mt-3 "style="margin-left:50px;" >
      <div class="col-lg-9">
         <div class="card">
           <div class="card-body">
           <div class="card-title">ADD PRODUCT</div>
           <form method="post" action="{% url 'add_product' %}" enctype="multipart/form-data">
                 {% csrf_token %}
                 <input type="text" name="name" placeholder="Enter product name" class="form-control"><br><br>
                 <input type="text" name="description" placeholder="describe the product...." class="form-control"><br><br>
                 <label>choose category</label>
                 <select name="category" class="form-control">
                  {% for c in cat %}
                  <option value="{{ c.id }}">{{ c.name }}</option>
                  {% endfor %}
              </select><br><br>
                               </select><br><br>
      <input type="text" name="color" placeholder="color" class="form-control"><br><br>
      <input type="text" name="size" placeholder="size" class="form-control"><br><br>

      <input type="number" name="price" placeholder="price" class="form-control"><br><br>
      <input type="number" name="quantity" placeholder="quantity"  class="form-control"><br><br>
      <input type="file" name="image"><br><br>
                 <div class="form-group">
                  <button type="submit" class="btn btn-light btn-round px-5">Save</button>
                </div>
                 </form>
           <br><br>
           </div>
           <br></div></div>
           <br></div>
           <div class="row mt-3">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Product Table</h5>
                        <div class="table-responsive">
                   <table class="table">
                      <thead>
                        <tr>
                          <th scope="col">Product</th>
                          <th scope="col">Category</th>

                          <th scope="col">Descripton</th>
                          <th scope="col">Image</th>
                          <th scope="col">Color</th>
                          <th scope="col">Size</th>

                          <th scope="col">Price</th>

                          <th scope="col">Quantity</th> 
                         <th scope="col">Action</th>

                        </tr>
                      </thead>
                      <tbody>
                        {% for p in product %}

                        <tr>
                              <td>{{p.name}}</td>
                              <td>{{p.category.name}}</td>

                              <td>{{p.description}}</td>
                              <td><img src="{{p.image.url}}" height="100" width="80" alt="p image"></td>
                              <td>{{p.color}}</td>
                              <td>{{p.size}}</td>

                              <td>{{p.price}}</td>
                              <td>{{p.quantity}}</td>
                              <td>
                                    <a href="{% url 'delete_product' p.id %}">DELETE</a><br><br>
                                    <a href="{% url 'edit_product_page' p.id %}">EDIT</a>
                              </td>
                        </tr>
                        {% endfor %}
                       </tbody>
                    </table>
                </div>
                </div>
              </div>
            </div>
    
           {% endblock %}